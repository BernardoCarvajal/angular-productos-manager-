import{A as F,Ba as fe,C as he,Da as de,E as U,F as O,J as ce,Ja as Se,L as q,Ma as _e,Na as ge,Pa as ke,Q as I,R as x,Ra as Me,S as J,Sa as ve,T as oe,Ta as ee,U as ue,Ua as Te,Wa as Ce,a as b,fa as X,ha as pe,i as Q,j as A,k as L,kb as Ee,l as N,oa as me,r as ae,t as ne,w as le}from"./chunk-MGPKNHHL.js";var Ve=[{path:"",redirectTo:"productos",pathMatch:"full"},{path:"productos",loadChildren:()=>import("./chunk-KEAMQQFT.js").then(a=>a.ProductsModule)},{path:"**",redirectTo:"productos"}],G=class a{static \u0275fac=function(e){return new(e||a)};static \u0275mod=O({type:a});static \u0275inj=A({imports:[ee.forRoot(Ve),ee]})};var He=a=>({exact:a});function Ye(a,k){if(a&1&&(oe(0),I(1,"a",5),X(2),x(),ue()),a&2){let e=k.$implicit;F(),q("routerLink",e.path)("routerLinkActiveOptions",me(3,He,e.path==="/")),F(),pe(" ",e.label," ")}}var B=class a{menuItems=[{path:"/productos/productos",label:"Productos"},{path:"/productos/dashboard",label:"Dashboard"}];static \u0275fac=function(e){return new(e||a)};static \u0275cmp=U({type:a,selectors:[["app-header"]],standalone:!1,decls:6,vars:1,consts:[[1,"bg-white","shadow-md","py-4"],[1,"container","mx-auto","px-4"],[1,"text-xl","font-bold","text-indigo-700"],[1,"mt-4","flex","space-x-4"],[4,"ngFor","ngForOf"],["routerLinkActive","bg-indigo-700 text-white",1,"px-4","py-2","rounded-md","font-medium","transform","transition-all","duration-200","hover:bg-indigo-600","hover:text-white","text-indigo-700","hover:scale-105",3,"routerLink","routerLinkActiveOptions"]],template:function(e,t){e&1&&(I(0,"header",0)(1,"div",1)(2,"h1",2),X(3,"Gestor de Productos"),x(),I(4,"nav",3),ce(5,Ye,3,5,"ng-container",4),x()()()),e&2&&(F(5),q("ngForOf",t.menuItems))},dependencies:[de,Me,ve],encapsulation:2})};var Z=class a{title="angularProductosManager";static \u0275fac=function(e){return new(e||a)};static \u0275cmp=U({type:a,selectors:[["app-root"]],standalone:!1,decls:4,vars:0,consts:[[1,"min-h-screen","bg-gray-100"],[1,"container","mx-auto","px-4","py-6"]],template:function(e,t){e&1&&(I(0,"div",0),J(1,"app-header"),I(2,"main",1),J(3,"router-outlet"),x()())},dependencies:[ke,B],encapsulation:2})};var j=class a{static \u0275fac=function(e){return new(e||a)};static \u0275mod=O({type:a});static \u0275inj=A({providers:[Te,Ce],imports:[Se]})};var i=function(a){return a.SEPARATOR="separator",a.PERCENT="percent",a.IP="IP",a.CPF_CNPJ="CPF_CNPJ",a.MONTH="M",a.MONTHS="M0",a.MINUTE="m",a.HOUR="h",a.HOURS="H",a.MINUTES="m0",a.HOURS_HOUR="Hh",a.SECONDS="s0",a.HOURS_MINUTES_SECONDS="Hh:m0:s0",a.EMAIL_MASK="A*@A*.A*",a.HOURS_MINUTES="Hh:m0",a.MINUTES_SECONDS="m0:s0",a.DAYS_MONTHS_YEARS="d0/M0/0000",a.DAYS_MONTHS="d0/M0",a.DAYS="d0",a.DAY="d",a.SECOND="s",a.LETTER_S="S",a.DOT=".",a.COMMA=",",a.CURLY_BRACKETS_LEFT="{",a.CURLY_BRACKETS_RIGHT="}",a.MINUS="-",a.OR="||",a.HASH="#",a.EMPTY_STRING="",a.SYMBOL_STAR="*",a.SYMBOL_QUESTION="?",a.SLASH="/",a.WHITE_SPACE=" ",a.NUMBER_ZERO="0",a.NUMBER_NINE="9",a.BACKSPACE="Backspace",a.DELETE="Delete",a.ARROW_LEFT="ArrowLeft",a.ARROW_UP="ArrowUp",a.DOUBLE_ZERO="00",a}(i||{}),te=new L("ngx-mask config"),Ne=new L("new ngx-mask config"),Re=new L("initial ngx-mask config"),Fe={suffix:"",prefix:"",thousandSeparator:" ",decimalMarker:[".",","],clearIfNotMatch:!1,showMaskTyped:!1,instantPrefix:!1,placeHolderCharacter:"_",dropSpecialCharacters:!0,hiddenInput:!1,shownMaskExpression:"",separatorLimit:"",allowNegativeNumbers:!1,validation:!0,specialCharacters:["-","/","(",")",".",":"," ","+",",","@","[","]",'"',"'"],leadZeroDateTime:!1,apm:!1,leadZero:!1,keepCharacterPositions:!1,triggerOnMaskChange:!1,inputTransformFn:a=>a,outputTransformFn:a=>a,maskFilled:new ne,patterns:{0:{pattern:new RegExp("\\d")},9:{pattern:new RegExp("\\d"),optional:!0},X:{pattern:new RegExp("\\d"),symbol:"*"},A:{pattern:new RegExp("[a-zA-Z0-9]")},S:{pattern:new RegExp("[a-zA-Z]")},U:{pattern:new RegExp("[A-Z]")},L:{pattern:new RegExp("[a-z]")},d:{pattern:new RegExp("\\d")},m:{pattern:new RegExp("\\d")},M:{pattern:new RegExp("\\d")},H:{pattern:new RegExp("\\d")},h:{pattern:new RegExp("\\d")},s:{pattern:new RegExp("\\d")}}},gt=[i.HOURS_MINUTES_SECONDS,i.HOURS_MINUTES,i.MINUTES_SECONDS],kt=[i.PERCENT,i.HOURS_HOUR,i.SECONDS,i.MINUTES,i.SEPARATOR,i.DAYS_MONTHS_YEARS,i.DAYS_MONTHS,i.DAYS,i.MONTHS],Ue=(()=>{class a{_config=N(te);dropSpecialCharacters=this._config.dropSpecialCharacters;hiddenInput=this._config.hiddenInput;clearIfNotMatch=this._config.clearIfNotMatch;specialCharacters=this._config.specialCharacters;patterns=this._config.patterns;prefix=this._config.prefix;suffix=this._config.suffix;thousandSeparator=this._config.thousandSeparator;decimalMarker=this._config.decimalMarker;customPattern;showMaskTyped=this._config.showMaskTyped;placeHolderCharacter=this._config.placeHolderCharacter;validation=this._config.validation;separatorLimit=this._config.separatorLimit;allowNegativeNumbers=this._config.allowNegativeNumbers;leadZeroDateTime=this._config.leadZeroDateTime;leadZero=this._config.leadZero;apm=this._config.apm;inputTransformFn=this._config.inputTransformFn;outputTransformFn=this._config.outputTransformFn;keepCharacterPositions=this._config.keepCharacterPositions;instantPrefix=this._config.instantPrefix;_shift=new Set;plusOnePosition=!1;maskExpression="";actualValue="";showKeepCharacterExp="";shownMaskExpression="";deletedSpecialCharacter=!1;ipError;cpfCnpjError;applyMask(e,t,l=0,n=!1,c=!1,m=()=>{}){if(!t||typeof e!="string")return i.EMPTY_STRING;let r=0,h="",f=!1,S=!1,M=1,v=!1,s=e,u=l;s.slice(0,this.prefix.length)===this.prefix&&(s=s.slice(this.prefix.length,s.length)),this.suffix&&s.length>0&&(s=this.checkAndRemoveSuffix(s)),s==="("&&this.prefix&&(s="");let y=s.toString().split(i.EMPTY_STRING);if(this.allowNegativeNumbers&&s.slice(r,r+1)===i.MINUS&&(h+=s.slice(r,r+1)),t===i.IP){let p=s.split(i.DOT);this.ipError=this._validIP(p),t="099.099.099.099"}let D=[];for(let p=0;p<s.length;p++)s[p]?.match("\\d")&&D.push(s[p]??i.EMPTY_STRING);if(t===i.CPF_CNPJ&&(this.cpfCnpjError=D.length!==11&&D.length!==14,D.length>11?t="00.000.000/0000-00":t="000.000.000-00"),t.startsWith(i.PERCENT)){if(s.match("[a-z]|[A-Z]")||s.match(/[-!$%^&*()_+|~=`{}\[\]:";'<>?,\/.]/)&&!c){s=this._stripToDecimal(s);let C=this.getPrecision(t);s=this.checkInputPrecision(s,C,this.decimalMarker)}let p=typeof this.decimalMarker=="string"?this.decimalMarker:i.DOT;if(s.indexOf(p)>0&&!this.percentage(s.substring(0,s.indexOf(p)))){let C=s.substring(0,s.indexOf(p)-1);this.allowNegativeNumbers&&s.slice(r,r+1)===i.MINUS&&!c&&(C=s.substring(0,s.indexOf(p))),s=`${C}${s.substring(s.indexOf(p),s.length)}`}let o="";this.allowNegativeNumbers&&s.slice(r,r+1)===i.MINUS?o=`${i.MINUS}${s.slice(r+1,r+s.length)}`:o=s,this.percentage(o)?h=this._splitPercentZero(s):h=this._splitPercentZero(s.substring(0,s.length-1))}else if(t.startsWith(i.SEPARATOR)){(s.match("[w\u0430-\u044F\u0410-\u042F]")||s.match("[\u0401\u0451\u0410-\u044F]")||s.match("[a-z]|[A-Z]")||s.match(/[-@#!$%\\^&*()_£¬'+|~=`{}\]:";<>.?/]/)||s.match("[^A-Za-z0-9,]"))&&(s=this._stripToDecimal(s));let p=this.getPrecision(t),o=this.decimalMarker;if(Array.isArray(this.decimalMarker)&&(this.actualValue.includes(this.decimalMarker[0])||this.actualValue.includes(this.decimalMarker[1])?o=this.actualValue.includes(this.decimalMarker[0])?this.decimalMarker[0]:this.decimalMarker[1]:o=this.decimalMarker.find(d=>d!==this.thousandSeparator)),c){let{decimalMarkerIndex:d,nonZeroIndex:_}=this._findFirstNonZeroAndDecimalIndex(s,o),E=s[0]===i.MINUS,H=s[0]===i.NUMBER_ZERO,Y=s[0]===o,w=s[1]===o;(Y&&!_||E&&w&&!_||H&&!d&&!_)&&(s=i.NUMBER_ZERO),d&&_&&E&&u===1&&(d<_||d>_)&&(s=i.MINUS+s.slice(_)),!d&&_&&s.length>_&&(s=E?i.MINUS+s.slice(_):s.slice(_)),d&&_&&u===0&&(d<_&&(s=s.slice(d-1)),d>_&&(s=s.slice(_)))}p===0?s=this.allowNegativeNumbers?s.length>2&&s[0]===i.MINUS&&s[1]===i.NUMBER_ZERO&&s[2]!==this.thousandSeparator&&s[2]!==i.COMMA&&s[2]!==i.DOT?"-"+s.slice(2,s.length):s[0]===i.NUMBER_ZERO&&s.length>1&&s[1]!==this.thousandSeparator&&s[1]!==i.COMMA&&s[1]!==i.DOT?s.slice(1,s.length):s:s.length>1&&s[0]===i.NUMBER_ZERO&&s[1]!==this.thousandSeparator&&s[1]!==i.COMMA&&s[1]!==i.DOT?s.slice(1,s.length):s:(s[0]===o&&s.length>1&&!c&&(s=i.NUMBER_ZERO+s.slice(0,s.length+1),this.plusOnePosition=!0),s[0]===i.NUMBER_ZERO&&s[1]!==o&&s[1]!==this.thousandSeparator&&!c&&(s=s.length>1?s.slice(0,1)+o+s.slice(1,s.length+1):s,this.plusOnePosition=!0),this.allowNegativeNumbers&&!c&&s[0]===i.MINUS&&(s[1]===o||s[1]===i.NUMBER_ZERO)&&(s=s[1]===o&&s.length>2?s.slice(0,1)+i.NUMBER_ZERO+s.slice(1,s.length):s[1]===i.NUMBER_ZERO&&s.length>2&&s[2]!==o?s.slice(0,2)+o+s.slice(2,s.length):s,this.plusOnePosition=!0));let C=this._charToRegExpExpression(this.thousandSeparator),g='@#!$%^&*()_+|~=`{}\\[\\]:\\s,\\.";<>?\\/'.replace(C,"");if(Array.isArray(this.decimalMarker))for(let d of this.decimalMarker)g=g.replace(this._charToRegExpExpression(d),i.EMPTY_STRING);else g=g.replace(this._charToRegExpExpression(this.decimalMarker),"");let P=new RegExp("["+g+"]");s.match(P)&&(s=s.substring(0,s.length-1)),s=this.checkInputPrecision(s,p,this.decimalMarker);let R=s.replace(new RegExp(C,"g"),"");h=this._formatWithSeparators(R,this.thousandSeparator,this.decimalMarker,p);let z=h.indexOf(i.COMMA)-s.indexOf(i.COMMA),T=h.length-s.length,$=c&&h.length<e.length&&this.separatorLimit;if((h[u-1]===this.thousandSeparator||h[u-this.prefix.length])&&this.prefix&&c)u=u-1;else if(T>0&&h[u]!==this.thousandSeparator||$){S=!0;let d=0;do this._shift.add(u+d),d++;while(d<T)}else h[u-1]===this.thousandSeparator||T===-4||T===-3||h[u]===this.thousandSeparator?(this._shift.clear(),this._shift.add(u-1)):z!==0&&u>0&&!(h.indexOf(i.COMMA)>=u&&u>3)||!(h.indexOf(i.DOT)>=u&&u>3)&&T<=0?(this._shift.clear(),S=!0,M=T,u+=T,this._shift.add(u)):this._shift.clear()}else for(let p=0,o=y[0];p<y.length&&r!==t.length;p++,o=y[p]??i.EMPTY_STRING){let C=i.SYMBOL_STAR in this.patterns;if(this._checkSymbolMask(o,t[r]??i.EMPTY_STRING)&&t[r+1]===i.SYMBOL_QUESTION)h+=o,r+=2;else if(t[r+1]===i.SYMBOL_STAR&&f&&this._checkSymbolMask(o,t[r+2]??i.EMPTY_STRING))h+=o,r+=3,f=!1;else if(this._checkSymbolMask(o,t[r]??i.EMPTY_STRING)&&t[r+1]===i.SYMBOL_STAR&&!C)h+=o,f=!0;else if(t[r+1]===i.SYMBOL_QUESTION&&this._checkSymbolMask(o,t[r+2]??i.EMPTY_STRING))h+=o,r+=3;else if(this._checkSymbolMask(o,t[r]??i.EMPTY_STRING)){if(t[r]===i.HOURS&&(this.apm?Number(o)>9:Number(o)>2)){u=this.leadZeroDateTime?u:u+1,r+=1,this._shiftStep(r),p--,this.leadZeroDateTime&&(h+="0");continue}if(t[r]===i.HOUR&&(this.apm?h.length===1&&Number(h)>1||h==="1"&&Number(o)>2||s.slice(r-1,r).length===1&&Number(s.slice(r-1,r))>2||s.slice(r-1,r)==="1"&&Number(o)>2:h==="2"&&Number(o)>3||(h.slice(r-2,r)==="2"||h.slice(r-3,r)==="2"||h.slice(r-4,r)==="2"||h.slice(r-1,r)==="2")&&Number(o)>3&&r>10)){u=u+1,r+=1,p--;continue}if((t[r]===i.MINUTE||t[r]===i.SECOND)&&Number(o)>5){u=this.leadZeroDateTime?u:u+1,r+=1,this._shiftStep(r),p--,this.leadZeroDateTime&&(h+="0");continue}let g=31,P=s[r],R=s[r+1],z=s[r+2],T=s[r-1],$=s[r-2],d=s.slice(r-3,r-1),_=s.slice(r-1,r+1),E=s.slice(r,r+2),H=s.slice(r-2,r);if(t[r]===i.DAY){let Y=t.slice(0,2)===i.MONTHS,w=t.slice(0,2)===i.MONTHS&&this.specialCharacters.includes($);if(Number(o)>3&&this.leadZeroDateTime||!Y&&(Number(E)>g||Number(_)>g||this.specialCharacters.includes(R))||(w?Number(_)>g||!this.specialCharacters.includes(P)&&this.specialCharacters.includes(z)||this.specialCharacters.includes(P):Number(E)>g||this.specialCharacters.includes(R)&&!c)){u=this.leadZeroDateTime?u:u+1,r+=1,this._shiftStep(r),p--,this.leadZeroDateTime&&(h+="0");continue}}if(t[r]===i.MONTH){let w=r===0&&(Number(o)>2||Number(E)>12||this.specialCharacters.includes(R)&&!c),Pe=t.slice(r+2,r+3),Ae=d.includes(Pe)&&t.includes("d0")&&(this.specialCharacters.includes($)&&Number(_)>12&&!this.specialCharacters.includes(P)||this.specialCharacters.includes(P)),Oe=Number(d)<=g&&!this.specialCharacters.includes(d)&&this.specialCharacters.includes(T)&&(Number(E)>12||this.specialCharacters.includes(R)),xe=Number(E)>12&&r===5||this.specialCharacters.includes(R)&&r===5,we=Number(d)>g&&!this.specialCharacters.includes(d)&&!this.specialCharacters.includes(H)&&Number(H)>12&&t.includes("d0"),be=Number(d)<=g&&!this.specialCharacters.includes(d)&&!this.specialCharacters.includes(T)&&Number(_)>12;if(Number(o)>1&&this.leadZeroDateTime||w||Ae||be||we||Oe||xe&&!this.leadZeroDateTime){u=this.leadZeroDateTime?u:u+1,r+=1,this._shiftStep(r),p--,this.leadZeroDateTime&&(h+="0");continue}}h+=o,r++}else this.specialCharacters.includes(o)&&t[r]===o?(h+=o,r++):this.specialCharacters.indexOf(t[r]??i.EMPTY_STRING)!==-1?(h+=t[r],r++,this._shiftStep(r),p--):t[r]===i.NUMBER_NINE&&this.showMaskTyped?this._shiftStep(r):this.patterns[t[r]??i.EMPTY_STRING]&&this.patterns[t[r]??i.EMPTY_STRING]?.optional?(y[r]&&t!=="099.099.099.099"&&t!=="000.000.000-00"&&t!=="00.000.000/0000-00"&&!t.match(/^9+\.0+$/)&&!this.patterns[t[r]??i.EMPTY_STRING]?.optional&&(h+=y[r]),t.includes(i.NUMBER_NINE+i.SYMBOL_STAR)&&t.includes(i.NUMBER_ZERO+i.SYMBOL_STAR)&&r++,r++,p--):this.maskExpression[r+1]===i.SYMBOL_STAR&&this._findSpecialChar(this.maskExpression[r+2]??i.EMPTY_STRING)&&this._findSpecialChar(o)===this.maskExpression[r+2]&&f||this.maskExpression[r+1]===i.SYMBOL_QUESTION&&this._findSpecialChar(this.maskExpression[r+2]??i.EMPTY_STRING)&&this._findSpecialChar(o)===this.maskExpression[r+2]&&f?(r+=3,h+=o):this.showMaskTyped&&this.specialCharacters.indexOf(o)<0&&o!==this.placeHolderCharacter&&this.placeHolderCharacter.length===1&&(v=!0)}h[u-1]&&h.length+1===t.length&&this.specialCharacters.indexOf(t[t.length-1]??i.EMPTY_STRING)!==-1&&(h+=t[t.length-1]);let ie=u+1;for(;this._shift.has(ie);)M++,ie++;let se=n&&!t.startsWith(i.SEPARATOR)?r:this._shift.has(u)?M:0;v&&se--,m(se,S),M<0&&this._shift.clear();let re=!1;c&&(re=y.every(p=>this.specialCharacters.includes(p)));let W=`${this.prefix}${re?i.EMPTY_STRING:h}${this.showMaskTyped?"":this.suffix}`;h.length===0&&(W=this.instantPrefix?`${this.prefix}${h}`:`${h}`);let ye=s.length===1&&this.specialCharacters.includes(t[0])&&s!==t[0];if(!this._checkSymbolMask(s,t[1])&&ye)return"";if(h.includes(i.MINUS)&&this.prefix&&this.allowNegativeNumbers){if(c&&h===i.MINUS)return"";W=`${i.MINUS}${this.prefix}${h.split(i.MINUS).join(i.EMPTY_STRING)}${this.suffix}`}return W}_findDropSpecialChar(e){return Array.isArray(this.dropSpecialCharacters)?this.dropSpecialCharacters.find(t=>t===e):this._findSpecialChar(e)}_findSpecialChar(e){return this.specialCharacters.find(t=>t===e)}_checkSymbolMask(e,t){return this.patterns=this.customPattern?this.customPattern:this.patterns,(this.patterns[t]?.pattern&&this.patterns[t]?.pattern.test(e))??!1}_formatWithSeparators=(e,t,l,n)=>{let c=[],m="";if(Array.isArray(l)){let M=new RegExp(l.map(v=>"[\\^$.|?*+()".indexOf(v)>=0?`\\${v}`:v).join("|"));c=e.split(M),m=e.match(M)?.[0]??i.EMPTY_STRING}else c=e.split(l),m=l;let r=c.length>1?`${m}${c[1]}`:i.EMPTY_STRING,h=c[0]??i.EMPTY_STRING,f=this.separatorLimit.replace(/\s/g,i.EMPTY_STRING);f&&+f&&(h[0]===i.MINUS?h=`-${h.slice(1,h.length).slice(0,f.length)}`:h=h.slice(0,f.length));let S=/(\d+)(\d{3})/;for(;t&&S.test(h);)h=h.replace(S,"$1"+t+"$2");return typeof n>"u"?h+r:n===0?h:h+r.substring(0,n+1)};percentage=e=>{let t=e.replace(",","."),l=Number(this.allowNegativeNumbers&&e.includes(i.MINUS)?t.slice(1,e.length):t);return!isNaN(l)&&l>=0&&l<=100};getPrecision=e=>{let t=e.split(i.DOT);return t.length>1?Number(t[t.length-1]):1/0};checkAndRemoveSuffix=e=>{for(let t=this.suffix?.length-1;t>=0;t--){let l=this.suffix.substring(t,this.suffix?.length);if(e.includes(l)&&t!==this.suffix?.length-1&&(t-1<0||!e.includes(this.suffix.substring(t-1,this.suffix?.length))))return e.replace(l,i.EMPTY_STRING)}return e};checkInputPrecision=(e,t,l)=>{let n=e,c=l;if(t<1/0){if(Array.isArray(c)){let f=c.find(S=>S!==this.thousandSeparator);c=f||c[0]}let m=new RegExp(this._charToRegExpExpression(c)+`\\d{${t}}.*$`),r=n.match(m),h=(r&&r[0]?.length)??0;if(h-1>t){let f=h-1-t;n=n.substring(0,n.length-f)}t===0&&this._compareOrIncludes(n[n.length-1],c,this.thousandSeparator)&&(n=n.substring(0,n.length-1))}return n};_stripToDecimal(e){return e.split(i.EMPTY_STRING).filter((t,l)=>{let n=typeof this.decimalMarker=="string"?t===this.decimalMarker:this.decimalMarker.includes(t);return t.match("^-?\\d")||t===this.thousandSeparator||n||t===i.MINUS&&l===0&&this.allowNegativeNumbers}).join(i.EMPTY_STRING)}_charToRegExpExpression(e){return e&&(e===" "?"\\s":"[\\^$.|?*+()".indexOf(e)>=0?`\\${e}`:e)}_shiftStep(e){this._shift.add(e+this.prefix.length||0)}_compareOrIncludes(e,t,l){return Array.isArray(t)?t.filter(n=>n!==l).includes(e):e===t}_validIP(e){return!(e.length===4&&!e.some((t,l)=>e.length!==l+1?t===i.EMPTY_STRING||Number(t)>255:t===i.EMPTY_STRING||Number(t.substring(0,3))>255))}_splitPercentZero(e){if(e===i.MINUS&&this.allowNegativeNumbers)return e;let t=typeof this.decimalMarker=="string"?e.indexOf(this.decimalMarker):e.indexOf(i.DOT),l=this.allowNegativeNumbers&&e.includes(i.MINUS)?"-":"";if(t===-1){let n=parseInt(l?e.slice(1,e.length):e,10);return isNaN(n)?i.EMPTY_STRING:`${l}${n}`}else{let n=parseInt(e.replace("-","").substring(0,t),10),c=e.substring(t+1),m=isNaN(n)?"":n.toString(),r=typeof this.decimalMarker=="string"?this.decimalMarker:i.DOT;return m===i.EMPTY_STRING?i.EMPTY_STRING:`${l}${m}${r}${c}`}}_findFirstNonZeroAndDecimalIndex(e,t){let l=null,n=null;for(let c=0;c<e.length;c++){let m=e[c];if(m===t&&l===null&&(l=c),m&&m>="1"&&m<="9"&&n===null&&(n=c),l!==null&&n!==null)break}return{decimalMarkerIndex:l,nonZeroIndex:n}}static \u0275fac=function(t){return new(t||a)};static \u0275prov=Q({token:a,factory:a.\u0275fac})}return a})(),Ge=(()=>{class a extends Ue{isNumberValue=!1;maskIsShown="";selStart=null;selEnd=null;maskChanged=!1;maskExpressionArray=[];triggerOnMaskChange=!1;previousValue="";currentValue="";writingValue=!1;_emitValue=!1;_start;_end;onChange=e=>{};_elementRef=N(le,{optional:!0});document=N(fe);_config=N(te);_renderer=N(he,{optional:!0});applyMask(e,t,l=0,n=!1,c=!1,m=()=>{}){if(!t)return e!==this.actualValue?this.actualValue:e;if(this.maskIsShown=this.showMaskTyped?this.showMaskInInput():i.EMPTY_STRING,this.maskExpression===i.IP&&this.showMaskTyped&&(this.maskIsShown=this.showMaskInInput(e||i.HASH)),this.maskExpression===i.CPF_CNPJ&&this.showMaskTyped&&(this.maskIsShown=this.showMaskInInput(e||i.HASH)),!e&&this.showMaskTyped)return this.formControlResult(this.prefix),`${this.prefix}${this.maskIsShown}${this.suffix}`;let r=e&&typeof this.selStart=="number"?e[this.selStart]??i.EMPTY_STRING:i.EMPTY_STRING,h="",f=l;if((this.hiddenInput||e&&e.indexOf(i.SYMBOL_STAR)>=0)&&!this.writingValue){let s=e&&e.length===1?e.split(i.EMPTY_STRING):this.actualValue.split(i.EMPTY_STRING);c&&(s=s.slice(0,l).concat(s.slice(l+1))),this.showMaskTyped&&(e=this.removeMask(e),s=this.removeMask(s.join("")).split(i.EMPTY_STRING)),typeof this.selStart=="object"&&typeof this.selEnd=="object"?(this.selStart=Number(this.selStart),this.selEnd=Number(this.selEnd)):e!==i.EMPTY_STRING&&s.length?typeof this.selStart=="number"&&typeof this.selEnd=="number"&&(e.length>s.length?s.splice(this.selStart,0,r):e.length<s.length&&(s.length-e.length===1?c?s.splice(this.selStart-1,1):s.splice(e.length-1,1):s.splice(this.selStart,this.selEnd-this.selStart))):s=[],this.showMaskTyped&&!this.hiddenInput&&(h=this.removeMask(e)),this.actualValue.length?s.length<e.length?h=this.shiftTypedSymbols(s.join(i.EMPTY_STRING)):s.length===e.length?h=s.join(i.EMPTY_STRING):h=e:h=e}if(n&&(this.hiddenInput||!this.hiddenInput)&&(h=e),c&&this.specialCharacters.indexOf(this.maskExpression[f]??i.EMPTY_STRING)!==-1&&this.showMaskTyped&&!this.prefix&&(h=this.currentValue),this.deletedSpecialCharacter&&f&&(this.specialCharacters.includes(this.actualValue.slice(f,f+1))?f=f+1:t.slice(f-1,f+1)!==i.MONTHS&&(f=f-2),this.deletedSpecialCharacter=!1),this.showMaskTyped&&this.placeHolderCharacter.length===1&&!this.leadZeroDateTime&&(h=this.removeMask(h)),this.maskChanged?h=e:h=h&&h.length?h:e,this.showMaskTyped&&this.keepCharacterPositions&&this.actualValue&&!n&&!this.writingValue){let s=this.dropSpecialCharacters?this.removeMask(this.actualValue):this.actualValue;return this.formControlResult(s),this.actualValue?this.actualValue:`${this.prefix}${this.maskIsShown}${this.suffix}`}let S=super.applyMask(h,t,f,n,c,m);if(this.actualValue=this.getActualValue(S),this.thousandSeparator===i.DOT&&this.decimalMarker===i.DOT&&(this.decimalMarker=i.COMMA),this.maskExpression.startsWith(i.SEPARATOR)&&this.dropSpecialCharacters===!0&&(this.specialCharacters=this.specialCharacters.filter(s=>!this._compareOrIncludes(s,this.decimalMarker,this.thousandSeparator))),(S||S==="")&&(this.previousValue=this.currentValue,this.currentValue=S,this._emitValue=this.previousValue!==this.currentValue||this.maskChanged||this.writingValue||this.previousValue===this.currentValue&&n),this._emitValue&&(this.writingValue&&this.triggerOnMaskChange?requestAnimationFrame(()=>this.formControlResult(S)):this.formControlResult(S)),!this.showMaskTyped||this.showMaskTyped&&this.hiddenInput)return this.hiddenInput?`${this.hideInput(S,this.maskExpression)}${this.maskIsShown.slice(S.length)}`:S;let M=S.length,v=`${this.prefix}${this.maskIsShown}${this.suffix}`;if(this.maskExpression.includes(i.HOURS)){let s=this._numberSkipedSymbols(S);return`${S}${v.slice(M+s)}`}else if(this.maskExpression===i.IP||this.maskExpression===i.CPF_CNPJ)return`${S}${v}`;return`${S}${v.slice(M)}`}_numberSkipedSymbols(e){let t=/(^|\D)(\d\D)/g,l=t.exec(e),n=0;for(;l!=null;)n+=1,l=t.exec(e);return n}applyValueChanges(e,t,l,n=()=>{}){let c=this._elementRef?.nativeElement;c&&(c.value=this.applyMask(c.value,this.maskExpression,e,t,l,n),c!==this._getActiveElement()&&this.clearIfNotMatchFn())}hideInput(e,t){return e.split(i.EMPTY_STRING).map((l,n)=>this.patterns&&this.patterns[t[n]??i.EMPTY_STRING]&&this.patterns[t[n]??i.EMPTY_STRING]?.symbol?this.patterns[t[n]??i.EMPTY_STRING]?.symbol:l).join(i.EMPTY_STRING)}getActualValue(e){let t=e.split(i.EMPTY_STRING).filter((l,n)=>{let c=this.maskExpression[n]??i.EMPTY_STRING;return this._checkSymbolMask(l,c)||this.specialCharacters.includes(c)&&l===c});return t.join(i.EMPTY_STRING)===e?t.join(i.EMPTY_STRING):e}shiftTypedSymbols(e){let t="";return(e&&e.split(i.EMPTY_STRING).map((n,c)=>{if(this.specialCharacters.includes(e[c+1]??i.EMPTY_STRING)&&e[c+1]!==this.maskExpression[c+1])return t=n,e[c+1];if(t.length){let m=t;return t=i.EMPTY_STRING,m}return n})||[]).join(i.EMPTY_STRING)}numberToString(e){return!e&&e!==0||this.maskExpression.startsWith(i.SEPARATOR)&&(this.leadZero||!this.dropSpecialCharacters)||this.maskExpression.startsWith(i.SEPARATOR)&&this.separatorLimit.length>14&&String(e).length>14?String(e):Number(e).toLocaleString("fullwide",{useGrouping:!1,maximumFractionDigits:20}).replace(`/${i.MINUS}/`,i.MINUS)}showMaskInInput(e){if(this.showMaskTyped&&this.shownMaskExpression){if(this.maskExpression.length!==this.shownMaskExpression.length)throw new Error("Mask expression must match mask placeholder length");return this.shownMaskExpression}else if(this.showMaskTyped){if(e){if(this.maskExpression===i.IP)return this._checkForIp(e);if(this.maskExpression===i.CPF_CNPJ)return this._checkForCpfCnpj(e)}return this.placeHolderCharacter.length===this.maskExpression.length?this.placeHolderCharacter:this.maskExpression.replace(/\w/g,this.placeHolderCharacter)}return""}clearIfNotMatchFn(){let e=this._elementRef?.nativeElement;e&&this.clearIfNotMatch&&this.prefix.length+this.maskExpression.length+this.suffix.length!==e.value.replace(this.placeHolderCharacter,i.EMPTY_STRING).length&&(this.formElementProperty=["value",i.EMPTY_STRING],this.applyMask("",this.maskExpression))}set formElementProperty([e,t]){!this._renderer||!this._elementRef||Promise.resolve().then(()=>this._renderer?.setProperty(this._elementRef?.nativeElement,e,t))}checkDropSpecialCharAmount(e){return e.split(i.EMPTY_STRING).filter(l=>this._findDropSpecialChar(l)).length}removeMask(e){return this._removeMask(this._removeSuffix(this._removePrefix(e)),this.specialCharacters.concat("_").concat(this.placeHolderCharacter))}_checkForIp(e){if(e===i.HASH)return`${this.placeHolderCharacter}.${this.placeHolderCharacter}.${this.placeHolderCharacter}.${this.placeHolderCharacter}`;let t=[];for(let l=0;l<e.length;l++){let n=e[l]??i.EMPTY_STRING;n&&n.match("\\d")&&t.push(n)}return t.length<=3?`${this.placeHolderCharacter}.${this.placeHolderCharacter}.${this.placeHolderCharacter}`:t.length>3&&t.length<=6?`${this.placeHolderCharacter}.${this.placeHolderCharacter}`:t.length>6&&t.length<=9?this.placeHolderCharacter:(t.length>9&&t.length<=12,"")}_checkForCpfCnpj(e){let t=`${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}.${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}.${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}-${this.placeHolderCharacter}${this.placeHolderCharacter}`,l=`${this.placeHolderCharacter}${this.placeHolderCharacter}.${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}.${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}/${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}-${this.placeHolderCharacter}${this.placeHolderCharacter}`;if(e===i.HASH)return t;let n=[];for(let c=0;c<e.length;c++){let m=e[c]??i.EMPTY_STRING;m&&m.match("\\d")&&n.push(m)}return n.length<=3?t.slice(n.length,t.length):n.length>3&&n.length<=6?t.slice(n.length+1,t.length):n.length>6&&n.length<=9?t.slice(n.length+2,t.length):n.length>9&&n.length<11?t.slice(n.length+3,t.length):n.length===11?"":n.length===12?e.length===17?l.slice(16,l.length):l.slice(15,l.length):n.length>12&&n.length<=14?l.slice(n.length+4,l.length):""}_getActiveElement(e=this.document){let t=e?.activeElement?.shadowRoot;return t?.activeElement?this._getActiveElement(t):e.activeElement}formControlResult(e){if(this.writingValue&&!e){this.onChange(this.outputTransformFn(null));return}if(this.writingValue||!this.triggerOnMaskChange&&this.maskChanged){this.triggerOnMaskChange&&this.maskChanged&&this.onChange(this.outputTransformFn(this._toNumber(this._checkSymbols(this._removeSuffix(this._removePrefix(e)))))),this.writingValue=!1,this.maskChanged=!1;return}Array.isArray(this.dropSpecialCharacters)?this.onChange(this.outputTransformFn(this._toNumber(this._checkSymbols(this._removeMask(this._removeSuffix(this._removePrefix(e)),this.dropSpecialCharacters))))):this.dropSpecialCharacters||!this.dropSpecialCharacters&&this.prefix===e?this.onChange(this.outputTransformFn(this._toNumber(this._checkSymbols(this._removeSuffix(this._removePrefix(e)))))):this.onChange(this.outputTransformFn(this._toNumber(e)))}_toNumber(e){if(!this.isNumberValue||e===i.EMPTY_STRING||this.maskExpression.startsWith(i.SEPARATOR)&&(this.leadZero||!this.dropSpecialCharacters))return e;if(String(e).length>14&&this.maskExpression.startsWith(i.SEPARATOR))return String(e);let t=Number(e);if(this.maskExpression.startsWith(i.SEPARATOR)&&Number.isNaN(t)){let l=String(e).replace(",",".");return Number(l)}return Number.isNaN(t)?e:t}_removeMask(e,t){return this.maskExpression.startsWith(i.PERCENT)&&e.includes(i.DOT)?e:e&&e.replace(this._regExpForRemove(t),i.EMPTY_STRING)}_removePrefix(e){return this.prefix?e&&e.replace(this.prefix,i.EMPTY_STRING):e}_removeSuffix(e){return this.suffix?e&&e.replace(this.suffix,i.EMPTY_STRING):e}_retrieveSeparatorValue(e){let t=Array.isArray(this.dropSpecialCharacters)?this.specialCharacters.filter(l=>this.dropSpecialCharacters.includes(l)):this.specialCharacters;return!this.deletedSpecialCharacter&&this._checkPatternForSpace()&&e.includes(i.WHITE_SPACE)&&this.maskExpression.includes(i.SYMBOL_STAR)&&(t=t.filter(l=>l!==i.WHITE_SPACE)),this._removeMask(e,t)}_regExpForRemove(e){return new RegExp(e.map(t=>`\\${t}`).join("|"),"gi")}_replaceDecimalMarkerToDot(e){let t=Array.isArray(this.decimalMarker)?this.decimalMarker:[this.decimalMarker];return e.replace(this._regExpForRemove(t),i.DOT)}_checkSymbols(e){let t=e;if(t===i.EMPTY_STRING)return t;this.maskExpression.startsWith(i.PERCENT)&&this.decimalMarker===i.COMMA&&(t=t.replace(i.COMMA,i.DOT));let l=this._retrieveSeparatorPrecision(this.maskExpression),n=this.specialCharacters.length===0?this._retrieveSeparatorValue(t):this._replaceDecimalMarkerToDot(this._retrieveSeparatorValue(t));return this.isNumberValue&&l?t===this.decimalMarker?null:n.length>14?String(n):this._checkPrecision(this.maskExpression,n):n}_checkPatternForSpace(){for(let e in this.patterns)if(this.patterns[e]&&this.patterns[e]?.hasOwnProperty("pattern")){let t=this.patterns[e]?.pattern.toString(),l=this.patterns[e]?.pattern;if(t?.includes(i.WHITE_SPACE)&&l?.test(this.maskExpression))return!0}return!1}_retrieveSeparatorPrecision(e){let t=e.match(new RegExp("^separator\\.([^d]*)"));return t?Number(t[1]):null}_checkPrecision(e,t){let l=this.getPrecision(e),n=t;return e.indexOf("2")>0||this.leadZero&&Number(l)>0?(this.decimalMarker===i.COMMA&&this.leadZero&&(n=n.replace(",",".")),this.leadZero?Number(n).toFixed(Number(l)):Number(n).toFixed(2)):this.numberToString(n)}_repeatPatternSymbols(e){return e.match(/{[0-9]+}/)&&e.split(i.EMPTY_STRING).reduce((t,l,n)=>{if(this._start=l===i.CURLY_BRACKETS_LEFT?n:this._start,l!==i.CURLY_BRACKETS_RIGHT)return this._findSpecialChar(l)?t+l:t;this._end=n;let c=Number(e.slice(this._start+1,this._end)),m=new Array(c+1).join(e[this._start-1]);if(e.slice(0,this._start).length>1&&e.includes(i.LETTER_S)){let r=e.slice(0,this._start-1);return r.includes(i.CURLY_BRACKETS_LEFT)?t+m:r+t+m}else return t+m},"")||e}currentLocaleDecimalMarker(){return 1.1.toLocaleString().substring(1,2)}static \u0275fac=(()=>{let e;return function(l){return(e||(e=ae(a)))(l||a)}})();static \u0275prov=Q({token:a,factory:a.\u0275fac})}return a})();function Be(){let a=N(Re),k=N(Ne);return k instanceof Function?b(b({},a),k()):b(b({},a),k)}function Ie(a){return[{provide:Ne,useValue:a},{provide:Re,useValue:Fe},{provide:te,useFactory:Be},Ge]}var K=class a{static \u0275fac=function(e){return new(e||a)};static \u0275mod=O({type:a,bootstrap:[Z]});static \u0275inj=A({providers:[Ie()],imports:[ge,G,j,Ee]})};_e().bootstrapModule(K,{ngZoneEventCoalescing:!0}).catch(a=>console.error(a));
